#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

branch="$(git symbolic-ref --short HEAD 2>/dev/null || echo "")"

# Block direct pushes to main
if [ "$branch" = "main" ]; then
  echo "ðŸš« Direct pushes to main are blocked. Create a PR instead."
  exit 1
fi

echo "â–¶ Running project checks (typecheck + lint + build)â€¦"
pnpm check || exit 1
